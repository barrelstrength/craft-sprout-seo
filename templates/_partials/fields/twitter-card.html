{% import "_includes/forms" as forms %}

<div class="sproutseo-box-twitter">
	<div class="sproutseo-fields" id="twitter-card">

		{% set twitterCardOptions = {
		'' : 'Select Twitter Card Type...'|t,
		'summary' : 'Summary Card'|t,
		'summary_large_image' : 'Summary Card with Large Image'|t,
		'player' : 'Player Card'|t
		} %}

		{{ forms.selectField({
			label: 'Twitter Card Type'|t,
			instructions: 'First, select your Twitter Card Type. Learn more about <a href="https://dev.twitter.com/docs/cards" target="_blank">How Twitter Cards work</a>.'|t,
			name: 'sproutseo[metadata][twitterCard]',
			options: twitterCardOptions,
			value: (values.twitterCard is defined ? values.twitterCard : 'summary'),
			errors: "",
			required: false
		}) }}

		{% if fieldContext is defined and fieldContext == 'field' %}
			{{ forms.textField({
				label: "Creator"|t,
				instructions: "If the content of this card was authored by someone, include their Twitter username here."|t,
				name: 'sproutseo[metadata][twitterCreator]',
				value: values.twitterCreator,
				errors: "",
				required: false,
				placeholder: '@ContentAuthor'
			}) }}
		{% endif %}

		<div id="twitter-player" class="hidden">

			<hr>

			{{ forms.textField({
				label: "Player"|t,
				instructions: "HTTPS URL to iframe player. This must be a HTTPS URL which does not generate mixed content warnings in a web browser."|t,
				name: 'sproutseo[metadata][twitterPlayer]',
				value: values.twitterPlayer,
				errors: "",
				required: false
			}) }}

			{{ forms.textField({
				label: "Stream"|t,
				instructions: "URL to raw stream that will be rendered in Twitter's Mobile App Integrations directly. If
						provided, the stream must be delivered in the MPEG-4 container format."|t,
				name: 'sproutseo[metadata][twitterPlayerStream]',
				value: values.twitterPlayerStream,
				errors: "",
				required: false
			}) }}

			{{ forms.textField({
				label: "Stream Content Type"|t,
				instructions: "The MIME type subtype combination that describes the content contained in twitter player stream."|t,
				name: 'sproutseo[metadata][twitterPlayerStreamContentType]',
				value: values.twitterPlayerStreamContentType,
				errors: "",
				required: false
			}) }}

			{{ forms.textField({
				label: "Height"|t,
				instructions: "Height of IFRAME specified in twitter player in pixels."|t,
				name: 'sproutseo[metadata][twitterPlayerHeight]',
				value: values.twitterPlayerHeight,
				errors: "",
				required: false
			}) }}

			{{ forms.textField({
				label: "Width"|t,
				instructions: 'Width of IFRAME specified in twitter player in pixels.'|t,
				name: 'sproutseo[metadata][twitterPlayerWidth]',
				value: values.twitterPlayerWidth,
				errors: "",
				required: false
			}) }}

		</div>

	</div>
</div>

{% includeJsResource "sproutseo/js/twitter-card.js" %}

{% set js %}

new Craft.SproutSeoTwitterCard();

{% endset %}
{% includeJs js %}
