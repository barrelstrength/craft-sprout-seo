{% extends "sproutseo/_layouts/general" %}
{% import "_includes/forms" as forms %}

{% set logoElement = null %}
{% set elementType = craft.sproutseo.getAssetElementType %}
{% set globals = craft.sproutSeo.getGlobals() %}
{% set schema = globals.identity %}

{% if schema.logo is defined and schema.logo %}
	{% for id in schema.logo %}
		{% set logo = craft.sproutSeo.getElementById(id) %}
		{% set logoElement = logo %}
	{% endfor %}
{%endif%}

{% set title = 'Website Identity'|t %}

{% set content %}
	{% set identityTypes = [
		{ label: "Organization", value: "Organization" },
		{ label: "Person", value: "Person" }
	] %}

	<form method="post" accept-charset="UTF-8" data-saveshortcut>
		{{ getCsrfInput() }}
		<input type="hidden" name="action" value="sproutSeo/schema/saveSchema">
		<input type="hidden" name="redirect" value="sproutseo/globals/{{ craft.request.getSegment(3) }}">
		<input type="hidden" name="schemaType" value="identity">

		{{ forms.selectField({
			label: 'Website Identity'|t,
			instructions: 'Select the primary concept that represents your brand identity.'|t,
			id: 'identityType',
			name: 'sproutseo[schema][identity][@type]',
			options: identityTypes,
			value: globals.getType(),
			errors: "",
			required: false,
			first: true
		}) }}

		<div id="person"  {% if globals.getType() != 'Person' %} style="display:none;" {% endif %}>

			{{ forms.selectField({
				label: 'Gender'|t,
				id: 'identityType',
				name: 'sproutseo[schema][identity][gender]',
				options: ['Male','Female'],
				value: schema['gender'] is defined ? schema.gender : null,
				errors: "",
				required: false,
				first: true
			}) }}

			{{ forms.textField({
				label: "Birthplace"|t,
				name: 'sproutseo[schema][identity][birthplace]',
				value: schema['birthplace'] is defined ? schema.birthplace : null,
				errors: '',
				first: true
			}) }}
			<br>
		</div>

		{{ forms.textField({
			label: "Name"|t,
			instructions: "Name of your organization"|t,
			name: 'sproutseo[schema][identity][name]',
			value: schema['name'] is defined ? schema.name : null,
			errors: '',
			first: true
		}) }}

		{{ forms.textField({
			label: "Alternate Entity Name"|t,
			name: 'sproutseo[schema][identity][alternateEntityName]',
			value: schema['alternateEntityName'] is defined ? schema.alternateEntityName : null,
			errors: ''
		}) }}

		{{ forms.textareaField({
			label: "Description"|t,
			instructions: "Description of your organization"|t,
			name: 'sproutseo[schema][identity][description]',
			value: schema['description'] is defined ? schema.description : null,
			errors: '',
			required: true
		}) }}

		{{ forms.textField({
			label: "URL"|t,
			instructions: "Canonical URL of your organization"|t,
			name: 'sproutseo[schema][identity][url]',
			value: schema['url'] is defined ? schema.url : null,
			errors: '',
			required: true
		}) }}

		{{ forms.textField({
			label: "Keywords"|t,
			instructions: "Primary keywords that describe your content"|t,
			name: 'sproutseo[schema][identity][keywords]',
			value: schema['keywords'] is defined ? schema.keywords : null,
			errors: '',
			required: true
		}) }}

		{{ forms.field({
			label: 'Logo'|t,
		}, forms.elementSelect({
			elements: [logoElement],
			sourceElementId: schema['logo'] is defined ? schema.logo : null,
			elementType: elementType,
			id: 'logo',
			name: 'sproutseo[schema][identity][logo]',
			jsClass: 'Craft.AssetSelectInput',
			addButtonLabel: 'Select Image'|t,
			limit: 1,
			criteria: {"localeEnabled":null}
		})) }}

		{{ forms.textField({
			label: "Telephone"|t,
			name: 'sproutseo[schema][identity][telephone]',
			value: schema['telephone'] is defined ? schema.telephone : null,
			errors: '',
			required: true
		}) }}

		{{ forms.textField({
			label: "Email"|t,
			name: 'sproutseo[schema][identity][email]',
			value: schema['email'] is defined ? schema.email : null,
			errors: '',
			required: true
		}) }}


		{#Address info#}

		{{ forms.textField({
			label: "Address"|t,
			name: 'sproutseo[schema][identity][address]',
			value: schema['address'] is defined ? schema.address : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Street Address"|t,
			name: 'sproutseo[schema][identity][streetAddress]',
			value: schema['streetAddress'] is defined ? schema.streetAddress : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Locality"|t,
			name: 'sproutseo[schema][identity][locality]',
			value: schema['locality'] is defined ? schema.locality : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Region"|t,
			name: 'sproutseo[schema][identity][region]',
			value: schema['region'] is defined ? schema.region : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Postal Code"|t,
			name: 'sproutseo[schema][identity][postalCode]',
			value: schema['postalCode'] is defined ? schema.postalCode : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Country"|t,
			name: 'sproutseo[schema][identity][country]',
			value: schema['country'] is defined ? schema.country : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Latitude"|t,
			name: 'sproutseo[schema][identity][latitude]',
			value: schema['latitude'] is defined ? schema.latitude : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Longitude"|t,
			name: 'sproutseo[schema][identity][longitude]',
			value: schema['longitude'] is defined ? schema.longitude : null,
			errors: '',
			required: false
		}) }}

		{#More info#}

		{{ forms.textField({
			label: "Duns Number"|t,
			name: 'sproutseo[schema][identity][dunsNumber]',
			value: schema['dunsNumber'] is defined ? schema.dunsNumber : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Organization Founder"|t,
			name: 'sproutseo[schema][identity][organizationFounder]',
			value: schema['organizationFounder'] is defined ? schema.organizationFounder : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Founding Date"|t,
			name: 'sproutseo[schema][identity][foundingDate]',
			value: schema['foundingDate'] is defined ? schema.foundingDate : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Founding Location"|t,
			name: 'sproutseo[schema][identity][foundingLocation]',
			value: schema['foundingLocation'] is defined ? schema.foundingLocation : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Country"|t,
			name: 'sproutseo[schema][identity][country]',
			value: schema['country'] is defined ? schema.country : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Local Business Info "|t,
			name: 'sproutseo[schema][identity][localBusinessInfo]',
			value: schema['localBusinessInfo'] is defined ? schema.localBusinessInfo : null,
			errors: '',
			required: false
		}) }}

		{{ forms.textField({
			label: "Sun->Sat"|t,
			instructions: "Open/Close Hours for each day"|t,
			name: 'sproutseo[schema][identity][openClose]',
			value: schema['openClose'] is defined ? schema.openClose : null,
			errors: '',
			required: false
		}) }}


		<div class="buttons">
			<input type="submit" class="btn submit" value="Save" />
		</div>

	</form>

{% includejs %}
	$( document ).ready(function() {
			$( "#identityType" ).change(function() {
				if(this.value === 'Person')
				{
					$( "#person" ).show();
				}
				else
				{
					$( "#person" ).hide();
				}
		});
	});
{% endincludejs %}

{% endset %}